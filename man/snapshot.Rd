% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/testit.R
\name{snapshot}
\alias{snapshot}
\title{Snapshot testing for plain-text output}
\usage{
snapshot(name, expr)
}
\arguments{
\item{name}{A unique name for this snapshot (used as the filename)}

\item{expr}{An R expression whose output will be captured and compared}
}
\value{
Invisible \code{NULL} if the snapshot matches, otherwise an error is
  signaled showing the differences.
}
\description{
Compare the output of an expression against a saved snapshot. Snapshots are
stored as plain text files in the \file{_snapshots/} directory relative to
the test file.
}
\details{
The function captures all output (via \code{\link{capture.output}()})
  from evaluating \code{expr}, including printed values, messages, and
  warnings (but not errors). The output is compared to a saved snapshot file.

  To create or update snapshots, set the environment variable
  \code{TESTIT_UPDATE_SNAPSHOTS=true} before running tests. This will write
  new snapshot files without comparing to existing ones.

  Snapshot files are stored in a \file{_snapshots/} subdirectory next to the
  test file, with names like \file{name.txt}.
}
\examples{
\dontrun{
# In a test file:
snapshot('basic_output', {
  cat('Hello, World!\\n')
  print(1:5)
})
}
}
